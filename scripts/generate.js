const fs = require("fs");
const path = require("path");

function getRandomFrom(file) {
  try {
    const data = JSON.parse(fs.readFileSync(path.join(__dirname, "..", "data", file)));
    return data[Math.floor(Math.random() * data.length)];
  } catch (error) {
    console.error(`âŒ Error reading ${file}:`, error.message);
    return "Oops! Could not load content.";
  }
}

const quote = getRandomFrom("quotes.json");
const tip = getRandomFrom("cybertips.json");
const challenge = getRandomFrom("challenges.json");

const content = `
<!-- AUTO-GENERATED BY FORTUNE NINJA ğŸ§™â€â™‚ï¸ -->

<p align="center">
  <img src="./img/yinnyang" />
</p>

<h1 align="center">ğŸ”® Fortune Ninja â€“ Daily Cyber Wisdom</h1>

---

### ğŸ“œ Quote of the Day
> "${quote}"

---

### ğŸ›¡ï¸ Cyber Tip
${tip}

---

### ğŸ§  Challenge of the Day
${challenge}

---

â³ Come back tomorrow for a fresh drop of digital wisdom.
`;

fs.writeFileSync("README.md", content);
